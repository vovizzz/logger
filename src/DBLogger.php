<?php/** * Nikiforov * logger 2021 */namespace vov1zzz\Logger;class DBLogger extends Logger implements LoggerInterface{    /**     * @param null $message     * @return bool     * @todo очищать препаред     */    public function save($message = null): bool    {        if($message) {            if($this->config['console']) echo $message."\n";            return mysqli_query($this->db(), "INSERT INTO log VALUES (NOW(), '$message')");        } else if($this->prepared) {            if($this->config['console']) echo $this->prepared."\n";            $message = $this->prepared;            $this->prepared = "\n";            return mysqli_query($this->db(), "INSERT INTO log VALUES (NOW(), '$message')");        }    }    private function db() {        $link = mysqli_connect($this->config['mysql_server'], $this->config['mysql_user'], $this->config['mysql_password'], $this->config['mysql_db']);        mysqli_query($link, 'CREATE TABLE IF NOT EXISTS `log` (`time` DATETIME, `message` VARCHAR(255))');        return $link;    }}